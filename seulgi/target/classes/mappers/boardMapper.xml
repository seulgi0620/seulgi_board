<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boardMapper">

<!-- 게시판 목록 -->
	<select id="boardMain" resultType="seulgi.board.VO.BoardVO">
		select no, writer, title, hit, create_date from board order by create_date desc
	</select>

<!-- 게시판 글 작성 -->
	<insert id="boardInsert">
		insert into board (no, writer, title, contents, create_date, hit) 
		values (seq_board_no.nextval, #{writer}, #{title}, #{contents}, to_char(sysdate,'yyyy-mm-dd hh24:mi:ss'), '0')
	</insert>
	
<!-- 게시판 글 읽기 -->
	<select id="boardRead" resultType="seulgi.board.VO.BoardVO">
		select no, writer, title, hit, create_date, contents from board where no = #{no}
	</select>
	
<!-- 게시판 글 수정 -->
	<update id="boardUpdate">
		update board set writer = #{writer}, title = #{title}, contents = #{contents} where no = #{no}
	</update>
	
<!-- 게시판 글 삭제 -->
	<delete id="boardDelete">
		delete from board where no = #{no}
	</delete>	
	
<!-- 글 조회시 조회수 증가 -->	
	<update id="boardHit">
		update board set hit = hit+1 where no = #{no}
	</update>	
</mapper>